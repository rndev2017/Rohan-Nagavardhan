{"version":3,"file":"map.js","names":["module","exports","WeakMap","HappyMap","SadMap","map","prototype","has","key","set","value","get","clear","keys","values","indexOf","index","push","undefined"],"sources":["../src/map.js"],"sourcesContent":["/**\n * Weird \"map\" polyfill, that's weak if possible\n */\nmodule.exports = typeof WeakMap === 'function' ? HappyMap : SadMap\n\n// Happy path! Fakes a `clear()` if possible (noop)\nfunction HappyMap() {\n  this.map = new WeakMap()\n}\n\nHappyMap.prototype.has = function (key) {\n  return this.map.has(key)\n}\n\nHappyMap.prototype.set = function (key, value) {\n  this.map.set(key, value)\n  return this\n}\n\nHappyMap.prototype.get = function (key) {\n  return this.map.get(key)\n}\n\nHappyMap.prototype.clear = function () {\n  // intentional noop, since we dont need to/cant clear\n}\n\n// Sad path! Use less stylish approach\nfunction SadMap() {\n  this.keys = []\n  this.values = []\n}\n\nSadMap.prototype.has = function (key) {\n  return this.keys.indexOf(key) !== -1\n}\n\nSadMap.prototype.set = function (key, value) {\n  const index = this.keys.indexOf(key)\n  if (index === -1) {\n    this.keys.push(key)\n    this.values.push(value)\n  } else {\n    this.values[index] = value\n  }\n  return this\n}\n\nSadMap.prototype.get = function (key) {\n  const index = this.keys.indexOf(key)\n  return index === -1 ? undefined : this.values[index]\n}\n\nSadMap.prototype.clear = function () {\n  this.keys = []\n  this.values = []\n}\n"],"mappings":";;AAAA;AACA;AACA;AACAA,MAAM,CAACC,OAAO,GAAG,OAAOC,OAAO,KAAK,UAAU,GAAGC,QAAQ,GAAGC,MAAM;;AAElE;AACA,SAASD,QAAQA,CAAA,EAAG;EAClB,IAAI,CAACE,GAAG,GAAG,IAAIH,OAAO,CAAC,CAAC;AAC1B;AAEAC,QAAQ,CAACG,SAAS,CAACC,GAAG,GAAG,UAAUC,GAAG,EAAE;EACtC,OAAO,IAAI,CAACH,GAAG,CAACE,GAAG,CAACC,GAAG,CAAC;AAC1B,CAAC;AAEDL,QAAQ,CAACG,SAAS,CAACG,GAAG,GAAG,UAAUD,GAAG,EAAEE,KAAK,EAAE;EAC7C,IAAI,CAACL,GAAG,CAACI,GAAG,CAACD,GAAG,EAAEE,KAAK,CAAC;EACxB,OAAO,IAAI;AACb,CAAC;AAEDP,QAAQ,CAACG,SAAS,CAACK,GAAG,GAAG,UAAUH,GAAG,EAAE;EACtC,OAAO,IAAI,CAACH,GAAG,CAACM,GAAG,CAACH,GAAG,CAAC;AAC1B,CAAC;AAEDL,QAAQ,CAACG,SAAS,CAACM,KAAK,GAAG,YAAY;EACrC;AAAA,CACD;;AAED;AACA,SAASR,MAAMA,CAAA,EAAG;EAChB,IAAI,CAACS,IAAI,GAAG,EAAE;EACd,IAAI,CAACC,MAAM,GAAG,EAAE;AAClB;AAEAV,MAAM,CAACE,SAAS,CAACC,GAAG,GAAG,UAAUC,GAAG,EAAE;EACpC,OAAO,IAAI,CAACK,IAAI,CAACE,OAAO,CAACP,GAAG,CAAC,KAAK,CAAC,CAAC;AACtC,CAAC;AAEDJ,MAAM,CAACE,SAAS,CAACG,GAAG,GAAG,UAAUD,GAAG,EAAEE,KAAK,EAAE;EAC3C,IAAMM,KAAK,GAAG,IAAI,CAACH,IAAI,CAACE,OAAO,CAACP,GAAG,CAAC;EACpC,IAAIQ,KAAK,KAAK,CAAC,CAAC,EAAE;IAChB,IAAI,CAACH,IAAI,CAACI,IAAI,CAACT,GAAG,CAAC;IACnB,IAAI,CAACM,MAAM,CAACG,IAAI,CAACP,KAAK,CAAC;EACzB,CAAC,MAAM;IACL,IAAI,CAACI,MAAM,CAACE,KAAK,CAAC,GAAGN,KAAK;EAC5B;EACA,OAAO,IAAI;AACb,CAAC;AAEDN,MAAM,CAACE,SAAS,CAACK,GAAG,GAAG,UAAUH,GAAG,EAAE;EACpC,IAAMQ,KAAK,GAAG,IAAI,CAACH,IAAI,CAACE,OAAO,CAACP,GAAG,CAAC;EACpC,OAAOQ,KAAK,KAAK,CAAC,CAAC,GAAGE,SAAS,GAAG,IAAI,CAACJ,MAAM,CAACE,KAAK,CAAC;AACtD,CAAC;AAEDZ,MAAM,CAACE,SAAS,CAACM,KAAK,GAAG,YAAY;EACnC,IAAI,CAACC,IAAI,GAAG,EAAE;EACd,IAAI,CAACC,MAAM,GAAG,EAAE;AAClB,CAAC","ignoreList":[]}