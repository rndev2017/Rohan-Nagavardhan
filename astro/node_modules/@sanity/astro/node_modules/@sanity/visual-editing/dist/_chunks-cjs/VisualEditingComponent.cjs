"use strict";var e=require("next/router.js"),r=require("react"),t=require("./enableVisualEditing.cjs");exports.default=function(u){const{refresh:s,zIndex:n}=u,c=e.useRouter(),a=r.useRef(c),[o,i]=r.useState();r.useEffect((()=>{a.current=c}),[c]),r.useEffect((()=>{const e=t.e({zIndex:n,refresh:s,history:{subscribe:e=>(i((()=>e)),()=>i(void 0)),update:e=>{switch(e.type){case"push":return a.current.push(e.url);case"pop":return a.current.back();case"replace":return a.current.replace(e.url);default:throw new Error(`Unknown update type: ${e.type}`)}}}});return()=>e()}),[s,n]);const{asPath:p,basePath:f,locale:l,isReady:h}=e.useRouter();return r.useEffect((()=>{if(o&&h){o({type:"push",url:f||l?`${f}${l?`/${l}`:""}${"/"===p?"":p}`:p})}}),[p,f,h,l,o]),null};//# sourceMappingURL=VisualEditingComponent.cjs.map
