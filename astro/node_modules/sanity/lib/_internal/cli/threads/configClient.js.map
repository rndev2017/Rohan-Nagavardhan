{"version":3,"file":"configClient.js","sources":["../../../../src/_internal/cli/threads/configClient.ts"],"sourcesContent":["import {getCliClient} from '@sanity/cli'\nimport ConfigStore from 'configstore'\n\n// eslint-disable-next-line no-process-env\nconst sanityEnv = (process.env.SANITY_INTERNAL_ENV || '').toLowerCase()\nconst defaults = {}\nconst config = new ConfigStore(\n  sanityEnv && sanityEnv !== 'production' ? `sanity-${sanityEnv}` : 'sanity',\n  defaults,\n  {globalConfigPath: true},\n)\n\nconst token = config.get('authToken')\nif (!token) {\n  throw new Error(\n    '--with-user-token specified, but no auth token could be found. Run `sanity login`',\n  )\n}\n\n// eslint-disable-next-line camelcase\ngetCliClient.__internal__getToken = () => token\n"],"names":["ConfigStore","getCliClient"],"mappings":";;;;;;AAIA,MAAM,aAAa,QAAQ,IAAI,uBAAuB,IAAI,YAAY,GAChE,WAAW,IACX,SAAS,IAAIA,qBAAA;AAAA,EACjB,aAAa,cAAc,eAAe,UAAU,SAAS,KAAK;AAAA,EAClE;AAAA,EACA,EAAC,kBAAkB,GAAI;AACzB,GAEM,QAAQ,OAAO,IAAI,WAAW;AACpC,IAAI,CAAC;AACH,QAAM,IAAI;AAAA,IACR;AAAA,EAAA;AAKJC,IAAAA,aAAa,uBAAuB,MAAM;"}